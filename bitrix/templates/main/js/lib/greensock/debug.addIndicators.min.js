!function(e,r){"function"==typeof define&&define.amd?define(["ScrollMagic"],r):r("object"==typeof exports?require("scrollmagic"):e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(e){"use strict";var r="debug.addIndicators",t=Function.prototype.bind.call(console&&(console.error||console.log)||function(){},console);e||t("("+r+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.");var o="0.85em",i="9999",n=15,d=e._util,s=0;e.Scene.extend(function(){var e,r=this;r.addIndicators=function(t){if(!e){var o={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};t=d.extend({},o,t),s++,e=new a(r,t),r.on("add.plugin_addIndicators",e.add),r.on("remove.plugin_addIndicators",e.remove),r.on("destroy.plugin_addIndicators",r.removeIndicators),r.controller()&&e.add()}return r},r.removeIndicators=function(){return e&&(e.remove(),this.off("*.plugin_addIndicators"),e=void 0),r}}),e.Controller.addOption("addIndicators",!1),e.Controller.extend(function(){var t=this,o=t.info(),i=o.container,s=o.isDocument,a=o.vertical,g={groups:[]},c=function(){t._log&&(Array.prototype.splice.call(arguments,1,0,"("+r+")","->"),t._log.apply(this,arguments))};t._indicators&&c(2,"WARNING: Scene already has a property '_indicators', which will be overwritten by plugin."),this._indicators=g;var l=function(){g.updateBoundsPositions()},p=function(){g.updateTriggerGroupPositions()};return i.addEventListener("resize",p),s||(window.addEventListener("resize",p),window.addEventListener("scroll",p)),i.addEventListener("resize",l),i.addEventListener("scroll",l),this._indicators.updateBoundsPositions=function(e){for(var r,t,o,s=e?[d.extend({},e.triggerGroup,{members:[e]})]:g.groups,c=s.length,l={},p=a?"left":"top",u=a?"width":"height",f=a?d.get.scrollLeft(i)+d.get.width(i)-n:d.get.scrollTop(i)+d.get.height(i)-n;c--;)for(o=s[c],r=o.members.length,t=d.get[u](o.element.firstChild);r--;)l[p]=f-t,d.css(o.members[r].bounds,l)},this._indicators.updateTriggerGroupPositions=function(e){for(var r,o,c,l,p,u=e?[e]:g.groups,f=u.length,h=s?document.body:i,m=s?{top:0,left:0}:d.get.offset(h,!0),v=a?d.get.width(i)-n:d.get.height(i)-n,b=a?"width":"height",G=a?"Y":"X";f--;)r=u[f],o=r.element,c=r.triggerHook*t.info("size"),l=d.get[b](o.firstChild.firstChild),p=c>l?"translate"+G+"(-100%)":"",d.css(o,{top:m.top+(a?c:v-r.members[0].options.indent),left:m.left+(a?v-r.members[0].options.indent:c)}),d.css(o.firstChild.firstChild,{"-ms-transform":p,"-webkit-transform":p,transform:p})},this._indicators.updateTriggerGroupLabel=function(e){var r="trigger"+(e.members.length>1?"":" "+e.members[0].options.name),t=e.element.firstChild.firstChild,o=t.textContent!==r;o&&(t.textContent=r,a&&g.updateBoundsPositions())},this.addScene=function(r){this._options.addIndicators&&r instanceof e.Scene&&r.controller()===t&&r.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){i.removeEventListener("resize",p),s||(window.removeEventListener("resize",p),window.removeEventListener("scroll",p)),i.removeEventListener("resize",l),i.removeEventListener("scroll",l),this.$super.destroy.apply(this,arguments)},t});var a=function(e,t){var o,i,n=this,a=g.bounds(),c=g.start(t.colorStart),l=g.end(t.colorEnd),p=t.parent&&d.get.elements(t.parent)[0],u=function(){e._log&&(Array.prototype.splice.call(arguments,1,0,"("+r+")","->"),e._log.apply(this,arguments))};t.name=t.name||s,c.firstChild.textContent+=" "+t.name,l.textContent+=" "+t.name,a.appendChild(c),a.appendChild(l),n.options=t,n.bounds=a,n.triggerGroup=void 0,this.add=function(){i=e.controller(),o=i.info("vertical");var r=i.info("isDocument");p||(p=r?document.body:i.info("container")),r||"static"!==d.css(p,"position")||d.css(p,{position:"relative"}),e.on("change.plugin_addIndicators",h),e.on("shift.plugin_addIndicators",f),_(),b(),setTimeout(function(){i._indicators.updateBoundsPositions(n)},0),u(3,"added indicators")},this.remove=function(){if(n.triggerGroup){if(e.off("change.plugin_addIndicators",h),e.off("shift.plugin_addIndicators",f),n.triggerGroup.members.length>1){var r=n.triggerGroup;r.members.splice(r.members.indexOf(n),1),i._indicators.updateTriggerGroupLabel(r),i._indicators.updateTriggerGroupPositions(r),n.triggerGroup=void 0}else w();v(),u(3,"removed indicators")}};var f=function(){b()},h=function(e){"triggerHook"===e.what&&_()},m=function(){var e=i.info("vertical");d.css(c.firstChild,{"border-bottom-width":e?1:0,"border-right-width":e?0:1,bottom:e?-1:t.indent,right:e?t.indent:-1,padding:e?"0 8px":"2px 4px"}),d.css(l,{"border-top-width":e?1:0,"border-left-width":e?0:1,top:e?"100%":"",right:e?t.indent:"",bottom:e?"":t.indent,left:e?"":"100%",padding:e?"0 8px":"2px 4px"}),p.appendChild(a)},v=function(){a.parentNode.removeChild(a)},b=function(){a.parentNode!==p&&m();var r={};r[o?"top":"left"]=e.triggerPosition(),r[o?"height":"width"]=e.duration(),d.css(a,r),d.css(l,{display:e.duration()>0?"":"none"})},G=function(){var r=g.trigger(t.colorTrigger),s={};s[o?"right":"bottom"]=0,s[o?"border-top-width":"border-left-width"]=1,d.css(r.firstChild,s),d.css(r.firstChild.firstChild,{padding:o?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(r);var a={triggerHook:e.triggerHook(),element:r,members:[n]};i._indicators.groups.push(a),n.triggerGroup=a,i._indicators.updateTriggerGroupLabel(a),i._indicators.updateTriggerGroupPositions(a)},w=function(){i._indicators.groups.splice(i._indicators.groups.indexOf(n.triggerGroup),1),n.triggerGroup.element.parentNode.removeChild(n.triggerGroup.element),n.triggerGroup=void 0},_=function(){var r=e.triggerHook(),t=1e-4;if(!(n.triggerGroup&&Math.abs(n.triggerGroup.triggerHook-r)<t)){for(var o,d=i._indicators.groups,s=d.length;s--;)if(o=d[s],Math.abs(o.triggerHook-r)<t)return n.triggerGroup&&(1===n.triggerGroup.members.length?w():(n.triggerGroup.members.splice(n.triggerGroup.members.indexOf(n),1),i._indicators.updateTriggerGroupLabel(n.triggerGroup),i._indicators.updateTriggerGroupPositions(n.triggerGroup))),o.members.push(n),n.triggerGroup=o,void i._indicators.updateTriggerGroupLabel(o);if(n.triggerGroup){if(1===n.triggerGroup.members.length)return n.triggerGroup.triggerHook=r,void i._indicators.updateTriggerGroupPositions(n.triggerGroup);n.triggerGroup.members.splice(n.triggerGroup.members.indexOf(n),1),i._indicators.updateTriggerGroupLabel(n.triggerGroup),i._indicators.updateTriggerGroupPositions(n.triggerGroup),n.triggerGroup=void 0}G()}}},g={start:function(e){var r=document.createElement("div");r.textContent="start",d.css(r,{position:"absolute",overflow:"hidden","border-width":0,"border-style":"solid",color:e,"border-color":e});var t=document.createElement("div");return d.css(t,{position:"absolute",overflow:"hidden",width:0,height:0}),t.appendChild(r),t},end:function(e){var r=document.createElement("div");return r.textContent="end",d.css(r,{position:"absolute",overflow:"hidden","border-width":0,"border-style":"solid",color:e,"border-color":e}),r},bounds:function(){var e=document.createElement("div");return d.css(e,{position:"absolute",overflow:"hidden","white-space":"nowrap","pointer-events":"none","font-size":o}),e.style.zIndex=i,e},trigger:function(e){var r=document.createElement("div");r.textContent="trigger",d.css(r,{position:"relative"});var t=document.createElement("div");d.css(t,{position:"absolute",overflow:"hidden","border-width":0,"border-style":"solid",color:e,"border-color":e}),t.appendChild(r);var n=document.createElement("div");return d.css(n,{position:"fixed",overflow:"hidden","white-space":"nowrap","pointer-events":"none","font-size":o}),n.style.zIndex=i,n.appendChild(t),n}}});